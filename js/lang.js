const translations={};async function fetchTranslations(a){try{let n=await fetch(`./json/${a}.json`);return await n.json()}catch(t){return console.error(`Error fetching translations for ${a}:`,t),{}}}async function changeLanguage(a){let n=await fetchTranslations(a);document.querySelectorAll("[data-lang]").forEach(a=>{let t=a.dataset.lang,e=n[t]||translations.en[t];void 0!==e&&(a.textContent=e)})}document.addEventListener("DOMContentLoaded",async function(){translations.en={};let a="en",n=navigator.language.split("-")[0];translations[n]&&(a=n),await changeLanguage(a),document.querySelectorAll("#languageSwitcher a").forEach(a=>{a.addEventListener("click",async function(a){a.preventDefault();let n=this.dataset.lang;await changeLanguage(n)})})});